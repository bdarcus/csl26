---
content_hash: b90064741607c51d2eab8706d54828bcefac961a106b3edb05ee11c066ab3411
github_issue: 119
id: 23
subject: 'feat(csl-tasks): implement task management CLI with GitHub sync'
status: pending
---

## Summary

Implements complete task management system with Markdown storage, GitHub Issues synchronization, drift detection, workflow enhancements, and production polish.

## Features

### Core Task Management (Phase 1)
- ✅ CRUD operations (create, read, update, delete)
- ✅ Markdown files with YAML frontmatter storage
- ✅ Task lifecycle: Pending → InProgress → Completed
- ✅ Dependency tracking (blocks/blocked_by)
- ✅ Circular dependency detection
- ✅ Content hashing for change detection

### GitHub Integration (Phase 2)
- ✅ Sync local tasks to GitHub Issues
- ✅ Custom labels and metadata support
- ✅ Preserves task structure in issue body
- ✅ Dry-run mode for previewing changes

### Drift Detection (Phase 3)
- ✅ Content drift (hash mismatch)
- ✅ Status mismatch (open vs closed)
- ✅ Dependency drift (blocks/blocked_by)
- ✅ Orphaned tasks and issues detection
- ✅ Detailed drift reporting

### Workflow Enhancements (Phase 4)
- ✅ Dependency graph visualization (ASCII and DOT)
- ✅ Task archiving to archive/ directory
- ✅ Configuration file support (TOML)
- ✅ Comprehensive documentation and examples

### Production Polish (Phase 5)
- ✅ Parallel GitHub API calls (performance)
- ✅ Structured error types with thiserror
- ✅ Shell completion generation (bash, zsh, fish, powershell)
- ✅ User-friendly error messages

## CLI Commands

- `list` - Show all tasks with filtering
- `get` - View task details
- `create` - Create new task
- `update` - Modify existing task
- `delete` - Remove task
- `next` - Find next unblocked task
- `claim` - Set status to in_progress
- `complete` - Set status to completed
- `validate` - Check dependency integrity
- `sync` - Synchronize with GitHub
- `sync-status` - Show drift report
- `graph` - Visualize dependencies
- `archive` - Move completed tasks
- `completions` - Generate shell completions

## Architecture

```
crates/csl_tasks/
├── src/
│   ├── task.rs       # Core task model
│   ├── storage.rs    # Markdown file I/O
│   ├── github.rs     # GitHub API client
│   ├── drift.rs      # Drift detection
│   ├── validation.rs # Dependency validation
│   ├── graph.rs      # Visualization
│   ├── archive.rs    # Task archival
│   ├── config.rs     # TOML configuration
│   ├── error.rs      # Custom error types
│   ├── cli.rs        # Command definitions
│   └── main.rs       # Command routing
├── examples/
│   ├── config.toml.example
│   └── task-example.md
└── README.md
```

## LLM Integration

Works with any LLM that has file system access. LLMs read/write Markdown files directly in `tasks/` directory. CLI provides sync, validation, and workflow commands.

## Testing

All code passes:
- ✅ `cargo fmt --check`
- ✅ `cargo clippy` (zero warnings)
- ✅ `cargo build`
- ✅ CI workflow

## References

- Implementation plan: `docs/CSL_TASKS_PLAN.md`
- README: `crates/csl_tasks/README.md`
