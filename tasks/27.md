---
subject: Make sure the processor supports automatic foot/endnoting of citations
github_issue: 88
content_hash: 939585cb4082d6b37148a2172caa00675d89e3d536fe30e2fd019d684e5b049c
id: 27
status: pending
---

From the very beginning, I had as a goal with what became CSL 1.0 that a user could radically change styles in a document without them having to modify the source.

For example, a user starts a document with APA author-date style, and completes their manuscript, and submits it to a journal. That publisher rejects it, so she revises it based on the feedback from reviewers, and wants to send it to another journal, with a very different citation style, that uses footnotes for citations.

She should not have to modify her citation at all; the transformation should be seamless.

This must work in both batch workflows like pandoc, and in interactive ones like using Word and Zotero.

This suggests a basic distinctions I've described as:

1. citations in foot/endnotes, where a user manually places a citation within a footnote or endnote; here the position doesn't change depending on style. But, one cannot footnote a footnote, for example, so if in a footnote already, the code must simply place the formatted citation body there.
2. automatically (foot)noted citations: here the tool is creating the correct footnote and number, and therefore also removing it if the user switches to a non-note style

So we need to make sure this principle is preserved in this project.

This was implement in Zotero and citeproc-js, though I don't know how. It was also implement in org-mode's org-cite code in [oc-csl.el](https://github.com/bzg/org-mode/blob/main/lisp/oc-csl.el); again, the details aren't super clear, but there are some comments in the code.

But note there are some corner cases around surrounding punctuation, discussed in [this thread](https://list.orgmode.org/CAF-FPGOrngTP1iShUz6aM+PShST5PkR60bZ+i9jWnuMENrkiSg@mail.gmail.com/). They did resolve this in the org-cite code.

Typically a footnote mark at the end of a sentence goes outside the period, but otherwise the citation goes inside it.

https://list.orgmode.org/CAF-FPGOrngTP1iShUz6aM+PShST5PkR60bZ+i9jWnuMENrkiSg@mail.gmail.com/
